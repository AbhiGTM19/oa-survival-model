<div class="app-wrapper">
  <mat-toolbar color="primary" class="app-toolbar">
    <mat-icon class="toolbar-icon">health_and_safety</mat-icon>
    <span>Tri-Modal Knee Osteoarthritis Prognosis System</span>
    <span class="spacer"></span>
    <button mat-icon-button matTooltip="Help & About" (click)="openHelpDialog()">
      <mat-icon>help_outline</mat-icon>
    </button>
    <button mat-icon-button matTooltip="Settings" (click)="openSettingsDialog()">
      <mat-icon>settings</mat-icon>
    </button>
  </mat-toolbar>

  <main class="main-layout">
    <section class="input-section">
      <div class="section-header">
        <h2>Patient Examination</h2>
        <p>Enter patient data to generate prognosis</p>
      </div>
      <app-input-form (analysisComplete)="onAnalysisComplete($event)"></app-input-form>
    </section>

    <section class="results-section">
      <div *ngIf="loading" class="loading-container">
        <ng-lottie [options]="lottieOptions" width="300px" height="300px"></ng-lottie>
        <p>Processing Multi-Modal Data...</p>
      </div>

      <app-dashboard *ngIf="results && !loading" [data]="results"></app-dashboard>

      <div *ngIf="!results && !loading" class="placeholder-state">
        <mat-icon class="placeholder-icon">analytics</mat-icon>
        <h3>Ready for Analysis</h3>
        <p>Patient data and X-Ray analysis results will appear here.</p>
      </div>
    </section>
  </main>
</div>